@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Noto+Sans+Mono:wght@400;700&family=Open+Sans:wght@400;700&family=Roboto+Mono&display=swap');

:root {
  /* Overlay Container Variables */
  --wp-overlay-top: 8px;
  --wp-overlay-right: 8px;
  /* --wp-overlay-width: 200px; /* REMOVED - Using auto width now */
  --wp-overlay-max-width: 350px; /* NEW - Max width for the overlay */
  --wp-overlay-min-width: 150px; /* NEW - Min width to prevent excessive shrinking */
  --wp-overlay-bg-color: rgba(18, 18, 18, 0.8);
  --wp-overlay-text-color: white;
  --wp-overlay-padding: 5px 8px; /* Adjusted padding slightly */
  --wp-overlay-border-radius: 8px;
  --wp-overlay-font-family: 'Noto Sans KR', 'Open Sans', Arial, sans-serif;
  /* New position offset variables */
  --wp-overlay-left: 8px;
  --wp-overlay-bottom: 8px;

  /* Series Text Variables */
  --wp-series-font-size: 10px;
  --wp-series-opacity: 0.9;
  --wp-series-margin-bottom: 2px;

  /* Episode Text Variables */
  --wp-episode-font-size: 14px;
  --wp-episode-font-weight: bold;
  --wp-episode-margin-bottom: 2px;

  /* Time Text Variables */
  --wp-time-font-size: 16px;
  --wp-time-font-weight: bold;
  --wp-time-font-family: 'Roboto Mono', 'Noto Sans Mono', 'Courier New', monospace;
  --wp-time-margin-bottom : 2px;

  /* Greenscreen Mode Variables */
  --wp-greenscreen-bg-color: rgb(0, 177, 64);
  --wp-greenscreen-border-color: rgb(0, 177, 64);
  --wp-greenscreen-text-color: black;
  --wp-greenscreen-text-shadow: 0px 0px 2px white, 0px 0px 3px white, 0px 0px 4px white;

  /* Compact Mode Specific Variables */
  /* --wp-compact-overlay-width: calc(var(--wp-overlay-width) * 1.5); /* REMOVED - Using auto width */
  --wp-compact-overlay-max-width: 300px; /* NEW - Max width for compact mode */
  --wp-compact-overlay-min-width: 120px; /* NEW - Min width for compact mode */

  --wp-overlay-default-height-approx: 60px; /* Approximate default height for calculation */
}

.wp-overlay-container {
  position: absolute;
  top: var(--wp-overlay-top);
  right: var(--wp-overlay-right);
  left: auto; /* Default to right alignment */
  bottom: auto; /* Default to top alignment */
  width: auto; /* CHANGED from var(--wp-overlay-width) */
  min-width: var(--wp-overlay-min-width);
  max-width: var(--wp-overlay-max-width);
  background-color: var(--wp-overlay-bg-color);
  color: var(--wp-overlay-text-color);
  padding: var(--wp-overlay-padding);
  border-radius: var(--wp-overlay-border-radius);
  z-index: 9999;
  font-family: var(--wp-overlay-font-family);
  pointer-events: none;
  user-select: none;
  display: flex;
  flex-direction: column;
  box-sizing: border-box; /* Add box-sizing */
}

.wp-overlay-series-text {
  font-size: var(--wp-series-font-size);
  opacity: var(--wp-series-opacity);
  margin-bottom: var(--wp-series-margin-bottom);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%; /* Ensure it doesn't overflow container */
}

.wp-overlay-episode-text {
  font-size: var(--wp-episode-font-size);
  font-weight: var(--wp-episode-font-weight);
  margin-bottom: var(--wp-episode-margin-bottom);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%; /* Ensure it doesn't overflow container */
}

/* #wp-overlay-time-text is now #wp-overlay-time-text-container */

/* NEW: Styles for the time and hostname container */
#wp-overlay-time-text-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%; /* Ensure it takes full available width for space-between */
  font-family: var(--wp-time-font-family);
  font-size: var(--wp-time-font-size);
  font-weight: var(--wp-time-font-weight);
  /* Adding ellipsis support for time if it ever becomes too long, though unlikely with current format */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; 
}

#wp-overlay-actual-time {
  /* Default alignment is left, which is fine */
  /* Potentially add ellipsis here too if individual parts could be long */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; 
}

#wp-overlay-hostname-display {
  /* Default alignment is right due to space-between on parent */
  font-family: 'Noto Sans KR', var(--wp-overlay-font-family);
  font-size: calc(var(--wp-time-font-size) * 0.65);
  opacity: 0.7;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; 
  padding-left: 5px; /* Add some space between time and hostname */
}

/* Greenscreen Mode */
.wp-overlay-container.greenscreen-active {
  background-color: var(--wp-greenscreen-bg-color);
  border: 1px solid var(--wp-greenscreen-border-color);
}

.wp-overlay-container.greenscreen-active .wp-overlay-series-text,
.wp-overlay-container.greenscreen-active .wp-overlay-episode-text,
.wp-overlay-container.greenscreen-active #wp-overlay-time-text-container, /* Apply to container for children */
.wp-overlay-container.greenscreen-active #wp-overlay-time-text-container #wp-overlay-actual-time,
.wp-overlay-container.greenscreen-active #wp-overlay-time-text-container #wp-overlay-hostname-display {
  color: var(--wp-greenscreen-text-color);
  text-shadow: var(--wp-greenscreen-text-shadow);
}

/* Compact Mode Styles */
.wp-overlay-container.compact {
  padding: 4px 8px;
  width: auto; /* CHANGED */
  min-width: var(--wp-compact-overlay-min-width);
  max-width: var(--wp-compact-overlay-max-width);
}

.wp-overlay-compact-text-container {
  display: flex; /* Added display flex */
  justify-content: space-between;
  align-items: center;
  width: 100%;
  font-family: var(--wp-overlay-font-family);
  font-size: var(--wp-episode-font-size);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.wp-overlay-compact-info {
  flex-grow: 1;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-right: 8px;
  /* max-width: calc(100% - 80px); /* Example: Reserve space for time if time is shown */
}

.wp-overlay-compact-time {
  flex-shrink: 0;
  text-align: right;
  font-family: var(--wp-time-font-family);
  font-size: var(--wp-time-font-size);
  font-weight: var(--wp-time-font-weight);
  white-space: nowrap; /* Ensure time doesn't wrap */
}

.wp-overlay-container.compact.greenscreen-active .wp-overlay-compact-text-container, /* Apply to container */
.wp-overlay-container.compact.greenscreen-active .wp-overlay-compact-info,
.wp-overlay-container.compact.greenscreen-active .wp-overlay-compact-time {
  color: var(--wp-greenscreen-text-color);
  text-shadow: var(--wp-greenscreen-text-shadow);
}

/* Compact mode with no time */
.wp-overlay-container.compact.compact-no-time {
  height: auto; 
  min-height: unset; 
}

.wp-overlay-container.compact.compact-no-time .wp-overlay-compact-info {
  margin-right: 0; 
  max-width: 100%; /* Allow full width if no time */
}

/* Left positioning */
.wp-overlay-container.position-left {
  right: auto;
  left: var(--wp-overlay-left);
}

/* END OF FILE */ 